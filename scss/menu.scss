/* Variabile CSS pentru tema cromatica */
body {
  --menu-bg-color: #f0f0f0;
  --menu-text-color: var(--coffee-brown, #6F4E37);
  --menu-hover-bg: var(--beige, #D2B48C);
  --submenu-gradient-start: white;
  --submenu-gradient-end: black;
  --hamburger-bar-color: var(--coffee-brown, #6F4E37);
  --hamburger-anim-color1: var(--warm-orange, #FF8C42);
  --hamburger-anim-color2: var(--dark-green, #556B2F);
}

/* Variabile SASS */
$transition-speed: 0.4s;
$font-size-large: 1.2rem;
$font-size-medium: 1rem;
$font-size-small: 1.1rem;
$hamburger-animation-duration: 1.5s;
$hamburger-bar-count: 3;
$hamburger-stagger-delay: 0.2s; // Diferenta t milisecunde

/* Mixin pentru tranzitii */
@mixin transition($properties...) {
  transition: $properties $transition-speed ease-in-out;
}

/* Bonus2 etapa 3: Animatia pentru barele hamburger-ului */
@keyframes hamburger-animation {
  0% {
    background-color: var(--hamburger-bar-color);
    transform: scaleX(1);
    opacity: 0.5;
  }
  50% {
    background-color: var(--hamburger-anim-color1);
    transform: scaleX(1.5) rotate(180deg);
    opacity: 1;
  }
  100% {
    background-color: var(--hamburger-anim-color2);
    transform: scaleX(1) rotate(360deg);
    opacity: 0.8;
  }
}

/* Stil de baza pentru navigare */
.main-nav {
  background-color: var(--menu-bg-color);
  padding: 0.5rem 1rem;
  box-shadow: var(--box-shadow);
  border-radius: var(--border-radius);
  font-family: 'Inconsolata', monospace;
  
  ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;

    li {
      position: relative;
      a {
        display: block;
        padding: 0.8rem 1.2rem;
        text-decoration: none;
        color: var(--menu-text-color);
        font-size: $font-size-large;
        font-weight: bold;
        @include transition(font-size);
        .fa-house { display: none; }
      }
      &:hover > a { font-size: 1.4rem; }
      .submenu {
        display: block;
        position: absolute;
        top: 100%;
        left: 0;
        background-color: var(--menu-hover-bg);
        padding: 0;
        border-radius: 0 0 var(--border-radius) var(--border-radius);
        box-shadow: var(--box-shadow);
        transform: scaleY(0);
        transform-origin: top;
        opacity: 0;
        visibility: hidden;
        @include transition(transform, opacity, visibility);
        min-width: 100%;
        white-space: nowrap;
        
        li a {
          font-size: 1rem;
          padding: 0.7rem 1.5rem;
          position: relative;
          overflow: hidden;
          &::before, &::after {
            content: '';
            position: absolute;
            top: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(var(--submenu-gradient-start), var(--submenu-gradient-end));
            transform: scaleY(0);
            transform-origin: bottom;
            @include transition(transform);
          }
          &::before { left: 0; }
          &::after { right: 0; }
        }
        li:hover a {
          &::before, &::after {
            transform: scaleY(1);
            transform-origin: top;
          }
        }
      }
      &:hover > .submenu {
        transform: scaleY(1);
        opacity: 1;
        visibility: visible;
      }
    }
  }
}

.hamburger-checkbox, .hamburger-label {
  display: none;
}

/* Stiluri pentru ecrane medii */
@media (max-width: 1199px) {
  .main-nav ul li {
    a {
      font-size: $font-size-medium;
      padding: 0.7rem 1rem;
    }
    &:hover > a {
      font-size: 1.1rem;
    }
  }
  .home-link {
    span { display: none; }
    .fa-house {
      display: inline;
      font-size: 1.5rem;
    }
  }
}

/* Stiluri pentru ecrane mici (cu bonusuri) */
@media (max-width: 767px) {
  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem;
  }
  
  /* Bonus1 etapa 3: Stilul pentru containerul hamburger */
  .hamburger-label {
    display: flex;
    flex-direction: column;
    width: 30px;
    height: 21px;
    cursor: pointer;
    z-index: 101;
    position: relative;
    
    span {
      display: block;
      position: absolute;
      left: 0;
      width: 100%;
      height: 3px;
      background: var(--hamburger-bar-color);
      border-radius: 10px;
      @include transition(all);
      
      &:nth-child(1) { top: 0; }
      &:nth-child(2) { top: 9px; }
      &:nth-child(3) { top: 18px; }

      animation-name: hamburger-animation;
      animation-duration: $hamburger-animation-duration;
      animation-iteration-count: infinite;
      animation-direction: alternate;
    }

    /* Bonus3 etapa 3: Generarea delay-urilor succesive cu @for */
    @for $i from 1 through $hamburger-bar-count {
      span:nth-child(#{$i}) {
        animation-delay: #{$i * $hamburger-stagger-delay};
      }
    }
  }
  
  .main-nav {
    position: fixed;
    top: 0;
    right: 0;
    width: 250px;
    height: 100%;
    background-color: var(--menu-bg-color);
    transform: translateX(100%);
    @include transition(transform);
    z-index: 100;
    ul {
      flex-direction: column;
      padding-top: 5rem;
      align-items: flex-start;
      li a { font-size: $font-size-small; }
    }
  }
  
  .hamburger-checkbox:checked {
    & ~ .hamburger-label span {
      animation: none;
      &:nth-child(1) {
        transform: rotate(45deg) translate(5px, 5px);
      }
      &:nth-child(2) {
        opacity: 0;
      }
      &:nth-child(3) {
        transform: rotate(-45deg) translate(7px, -6px);
      }
    }
    & ~ .main-nav {
      transform: translateX(0);
    }
  }

  .main-nav ul li .submenu {
      position: relative;
      width: 100%;
      box-shadow: none;
      border-radius: 0;
      transform: scaleX(0);
      transform-origin: left;
      display: none;
  }

  .main-nav ul li:hover > .submenu {
      transform: scaleX(1);
      display: block;
  }
}